version: 1

# inherit:
# - easier_node:easier_node

#description: |
#    This is a replacement 

#base_class:
#    line_detector2.Andrea
  
parameters:
    verbose:
        desc: Whether the node is verbose or not.
        type: bool
        default: true
    img_size:
        type: any
        desc: 
    top_cutoff:
        type: int
        default: 
        desc: How much of the image we should cut off.
    detector:
        type: any
        desc: Detector instantiation

subscriptions:
    image:
        desc: Image to read
        topic: ~image
        type: CompressedImage
        queue_size: 1
        process: threaded
    transform:
        desc: The anti-instagram transform to apply.
        topic: ~transform
        type: AntiInstagramTransform
        queue_size: 1
        process: synchronous
    switch:
        desc: null
        topic: ~switch
        type: BoolStamped
        queue_size: 1
        process: synchronous

publishers:
    edge:
        desc: 
        type: Image
        queue_size: 1
        topic: ~edge
    color_segment:
        desc:
        type: Image
        queue_size: 1
        topic: ~colorSegment
    segment_list:
        desc:
        type: SegmentList
        queue_size: 1
        topic: ~segment_list
    image_with_lines:
        desc:
        type: Image
        queue_size: 1
        topic: ~image_with_lines


contracts:
    subscriptions:
        image:
            min_frequency: 5
    processing:
        image:
            max_latency: 0.200
